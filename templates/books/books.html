{% extends 'layout.html' %}

{% block title %}Liste des Livres{% endblock %}

{% block content %}
<main class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Liste des Livres</h2>
        <a href="{{ url_for('add_book') }}" class="btn btn-primary">
            Ajouter un nouveau livre
        </a>
    </div>

    {% if books %}
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Titre</th>
                    <th scope="col">Auteur</th>
                    <th scope="col">Année</th>
                    <th scope="col">Note</th>
                    <th scope="col">Statut</th>
                    <th scope="col" class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for book in books %}
                <tr>
                    <td>{{ book.id }}</td>
                    <td>{{ book.title }}</td>
                    <td>{{ book.author }}</td>
                    <td>{{ book.year }}</td>
                    <td>{{ book.rating }}</td>
                    <td>{{ book.status }}</td>
                    <td class="text-center">
                        <a href="{{ url_for('edit_book', id=book.id) }}" class="btn btn-sm btn-info" aria-label="Éditer le livre {{ book.title }}">
                            Éditer
                        </a>
                        <a href="{{ url_for('delete_book', id=book.id) }}" class="btn btn-sm btn-danger" aria-label="Supprimer le livre {{ book.title }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer ce livre ?');">
                            Supprimer
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
        <p>Aucun livre n'a été trouvé.</p>
    </div>
    {% endif %}

    <div class="mt-4">
        <a href="{{ url_for('home') }}" class="btn btn-secondary">Retour à l'accueil</a>
    </div>
</main>
{% endblock %}