{% extends 'layout.html' %}

{% block title %}Liste des Bibliothèques{% endblock %}

{% block content %}
<main class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Liste des bibliothèques</h2>
        <a href="{{ url_for('add_library') }}" class="btn btn-primary">
            Ajouter une nouvelle bibliothèque
        </a>
    </div>

    {% if libraries %}
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nom</th>
                    <th scope="col">Créée par</th>
                    <th scope="col">Date de création</th>
                    <th scope="col">Ville</th>
                    <th scope="col">Pays</th>
                    <th scope="col" class="text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for library in libraries %}
                <tr>
                    <td>{{ library.id }}</td>
                    <td>{{ library.name }}</td>
                    <td>{{ library.created_by }}</td>
                    <td>{{ library.date_of_creation }}</td>
                    <td>{{ library.city }}</td>
                    <td>{{ library.country }}</td>
                    <td class="text-center">
                        <a href="{{ url_for('edit_library', id=library.id) }}" class="btn btn-sm btn-info" aria-label="Éditer la bibliothèque {{ library.name }}">
                            Éditer
                        </a>
                        <a href="{{ url_for('delete_library', id=library.id) }}" class="btn btn-sm btn-danger" aria-label="Supprimer la bibliothèque {{ library.name }}" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette bibliothèque ?');">
                            Supprimer
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
        <p>Aucune bibliothèque n'a été trouvée.</p>
    </div>
    {% endif %}

    <div class="mt-4">
        <a href="{{ url_for('home') }}" class="btn btn-secondary">Retour à l'accueil</a>
    </div>
</main>
{% endblock %}